<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tahakom HR – Home</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* --- minimal page-specific styling --- */
    .topbar {
      position: sticky; top: 0; z-index: 50;
      display: flex; align-items: center; gap: 12px;
      background: #fff; border-bottom: 1px solid var(--border);
      padding: 10px 14px;
    }
    .topbar .brand { display: flex; align-items: center; gap: 10px; }
    .topbar .brand .logo { height: 28px; }
    .topbar .spacer { flex: 1; }
    .site-search {
      display: flex; align-items: center; gap: 8px;
      border: 1px solid var(--border); border-radius: 999px;
      padding: 6px 10px; background: #fff;
    }
    .site-search input[type="search"] {
      border: none; outline: none; width: 260px;
    }
    .site-search button {
      border: 1px solid var(--border); background: var(--surface-2);
      border-radius: 999px; padding: 6px 10px; cursor: pointer; font-weight: 600;
    }
    .hero {
      min-height: calc(100dvh - 70px);
      display: grid; place-items: center; text-align: center; padding: 24px;
      background: linear-gradient(180deg,#faf7fb,transparent 40%);
    }
    .hero h1 {
      font-size: clamp(42px, 6vw, 64px);
      margin: 0 0 16px; color: #5d205a;
    }

    
    .tile {
      display: grid; place-items: center; gap: 8px;
      width: 220px; height: 160px; text-decoration: none; color: inherit;
      background: #fff; border: 1px solid var(--border); border-radius: 16px;
      box-shadow: 0 10px 18px rgba(0,0,0,.05);
    }
    .tile:hover { border-color: var(--brand-teal); box-shadow: 0 14px 22px rgba(0,0,0,.07); }
    .tile .ico { font-size: 36px; }
    .tile .txt { font-weight: 700; }

    /* Results panel */
    .results-panel {
      position: fixed; right: 16px; top: 60px; width: min(640px, 92%);
      max-height: 60dvh; overflow: auto; background:#fff; border:1px solid var(--border);
      border-radius: 12px; box-shadow: 0 18px 36px rgba(0,0,0,.12); display: none;
    }
    .results-panel header {
      padding: 10px 12px; border-bottom: 1px solid var(--border); font-weight: 700;
      display: flex; justify-content: space-between; align-items: center;
    }
    .results-list { list-style: none; margin: 0; padding: 0; }
    .results-list li { border-top: 1px solid var(--surface-2); }
    .results-list a {
      display: block; padding: 10px 12px; text-decoration: none; color: var(--brand-purple);
    }
    .results-list a:hover { background: var(--surface-2); }
    .snippet { color: var(--muted); font-size: 13px; margin-top: 2px; }
    .close-btn {
      border: 1px solid var(--border); border-radius: 8px; background: #fff; cursor: pointer; padding: 4px 8px;
    }
    @media (max-width: 640px){
      .site-search input[type="search"]{ width: 140px; }
    }
  </style>
</head>


<body>
  <!-- Top bar with search (top-right) -->
  <div class="topbar">
    <div class="brand">
      <img src="images\tahakom-logo.png" class="logo" alt="Tahakom logo" />
      <strong>TAHAKOM • HR Portal</strong>
    </div>
    <div class="spacer"></div>
    <form class="site-search" id="siteSearch" role="search">
      <input id="q" type="search" placeholder="Search site…" aria-label="Search site" />
      <button type="submit">Search</button>
    </form>
  </div>

  <!-- Results panel -->
  <div class="results-panel" id="results">
    <header>
      <span id="resultsTitle">Results</span>
      <button class="close-btn" id="resultsClose">Close</button>
    </header>
    <ul class="results-list" id="resultsList"></ul>
  </div>

 <!-- Big hello + tiles -->
<main class="hero">
  <!-- Wide background hero -->
  <section class="wide-heroo">
    <h1 style="margin-bottom: 100px;">Hello!</h1>
  </section>

  <div><h2 style="color: #6c6c6c; margin-right: 1100px; margin-top: -80px;">Quick Actions</h2></div>

  <!-- Tiles section -->
  <div class="tiles">
    <!-- 1) View my profile -->
    <a class="tile" href="employee.html#personal">
      <div class="ico"><img src="images/view profile.png" width="50" height="50" alt=""></div>
      <div class="txt">View My Profile</div>
    </a>

    <!-- 2) Submit Leave Request -->
    <a class="tile" href="employee.html#leave-request">
      <div class="ico"><img src="images/calendar.png" width="50" height="50" alt=""></div>
      <div class="txt">Submit Leave Request</div>
    </a>

    <!-- 3) View Organisation Chart -->
    <a class="tile" href="service_unavailable.html?title=Organisation%20Chart">
      <div class="ico"><img src="images/organization chart.png" width="50" height="50" alt=""></div>
      <div class="txt">View Organisation Chart</div>
    </a>

    <!-- 4) Employee Badge Request -->
    <a class="tile" href="employee.html#badge">
      <div class="ico"><img src="images/badge.png" width="50" height="50" alt=""></div>
      <div class="txt">Employee Badge Request</div>
    </a>

    <!-- 5) View Favorites -->
    <a class="tile" href="#" id="openFavsWindow">
      <div class="ico"><img src="images/favourite.png" width="50" height="50" alt=""></div>
      <div class="txt">View Favorites</div>
    </a>
  </div>
</main>


  <footer class="site-footer">
    <small>© 2025 Tahakom · HR Portal</small>
  </footer>

  <script>
    // --- Tiny site search (client-side) ---
    // Add any extra pages here to include them in search:
    const PAGES = [
      { title: 'Home', url: 'index.html' },
      { title: 'Employee Information', url: 'employee.html' }
    ];

    // Fetch & cache page text
    const cache = new Map();
    async function getPageText(url){
      if (cache.has(url)) return cache.get(url);
      const res = await fetch(url, { credentials: 'same-origin' });
      const html = await res.text();
      // strip tags
      const text = html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')
                       .replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')
                       .replace(/<[^>]+>/g,' ')
                       .replace(/\s+/g,' ')
                       .trim();
      cache.set(url, text);
      return text;
    }

    function makeSnippet(text, term, len=140){
      const i = text.toLowerCase().indexOf(term.toLowerCase());
      if (i < 0) return '';
      const start = Math.max(0, i - Math.floor(len/2));
      const end = Math.min(text.length, start + len);
      let s = text.slice(start, end);
      return s.replace(new RegExp(term, 'ig'), m => `\u2060${m}\u2060`); // zero-width around match
    }

    const form = document.getElementById('siteSearch');
    const input = document.getElementById('q');
    const panel = document.getElementById('results');
    const list = document.getElementById('resultsList');
    const title = document.getElementById('resultsTitle');
    const closeBtn = document.getElementById('resultsClose');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const term = (input.value || '').trim();
      if (!term) return;

      title.textContent = `Results for “${term}”`;
      list.innerHTML = '<li><a>Searching…</a></li>';
      panel.style.display = 'block';

      const results = [];
      for (const p of PAGES){
        try {
          const text = await getPageText(p.url);
          if (text.toLowerCase().includes(term.toLowerCase())){
            // Try to point to best section on employee page if the term matches a known anchor
            let href = p.url;
            if (p.url.includes('employee.html')){
              const anchors = ['#personal','#employment','#compensation','#payroll','#submit-education','#history','#time-mgmt','#trip-request','#leave-request','#disciplinary','#injury','#badge','#coc-letter'];
              for (const a of anchors) if (text.toLowerCase().includes(term.toLowerCase())) { href = p.url + a; break; }
            }
            results.push({ title: p.title, href, snippet: makeSnippet(text, term) });
          }
        } catch(e){ /* ignore fetch errors in mock */ }
      }

      if (!results.length){
        list.innerHTML = '<li><a>No results found.</a></li>';
        return;
      }

      list.innerHTML = results.map(r => `
        <li>
          <a href="${r.href}">
            <strong>${r.title}</strong>
            <div class="snippet">${r.snippet || ''}</div>
          </a>
        </li>
      `).join('');
    });

    closeBtn.addEventListener('click', () => {
      panel.style.display = 'none';
      list.innerHTML = '';
    });
    // close panel when clicking outside
    document.addEventListener('click', (e) => {
      if (!panel.contains(e.target) && !form.contains(e.target)) {
        panel.style.display = 'none';
      }
    });

  document.getElementById('openFavsWindow')?.addEventListener('click', e=>{
  e.preventDefault();
  window.open('favs.html', 'Favourites',
    'width=900,height=700,top=100,left=200,resizable=yes,scrollbars=yes');
  });

    
</script>
</body>
</html>
